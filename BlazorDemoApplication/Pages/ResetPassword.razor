@page "/ResetPassword"
@using BlazorDemoApplication.Data
@inject UserService userService
@inject NavigationManager navigationManager
<h3>Reset Password</h3>
@* 
@if (!resetPasswordTokenValid)
{
    <p>The reset password token is invalid or expired. Please request a new reset password link.</p>
    <a href="/ForgotPassword">Request a new reset password link</a>
}
else
{
    <form @onsubmit="ResetPassword">
        <div class="form-group">
            <label for="password">New Password:</label>
            <input type="password" class="form-control" @bind="newPassword" required />
        </div>
        <div class="form-group">
            <label for="confirmPassword">Confirm New Password:</label>
            <input type="password" class="form-control" @bind="confirmPassword" required />
        </div>
        <button type="submit" class="btn btn-primary">Reset Password</button>
    </form>
}

@code {
    [Parameter]
    public string token { get; set; }

    private string newPassword;
    private string confirmPassword;
    private bool resetPasswordTokenValid = false;
 *@
    // protected override async Task OnInitializedAsync()
    // {
    //     // Verify the reset password token
    //     resetPasswordTokenValid = await userService.VerifyResetPasswordToken(token);
    // }

    // private async Task ResetPassword()
    // {
    //     if (newPassword != confirmPassword)
    //     {
    //         // Passwords do not match
    //         // Display an error message or handle it as you prefer
    //         return;
    //     }

    //     if (resetPasswordTokenValid)
    //     {
    //         bool success = await userService.ResetPassword(token, newPassword);
    //         if (success)
    //         {
    //             // Password reset successfully
    //             // Redirect the user to the login page or any other page as needed
    //             NavigationManager.NavigateTo("/");
    //         }
    //         else
    //         {
    //             // Password reset failed
    //             // Display an error message or handle it as you prefer
    //         }
    //     }
    //     else
    //     {
    //         // Reset password token is invalid or expired
    //         // Display an error message or handle it as you prefer
    //     }
    // }
}
